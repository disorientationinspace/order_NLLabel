!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class i{constructor(){this._element=null}getTemplate(){throw new Error("getTemplate() must be initialized within inharitance")}getElement(){return this._element||(this._element=function(e){const t=document.createElement("div");return t.innerHTML=e,t.firstChild}(this.getTemplate())),this._element}}class o extends i{constructor(){super()}getTemplate(){return'<div class="info__slider slider">\n            \n            </div>'}}class s extends i{constructor(e){super(),this._data=e}getTemplate(){return function(e){const{name:t,title:n,description:i,subHeader:o,info:s,details:r}=e;return`<div data-slide-name="${t}" class="slider__tabcontent fadeIn">\n            <h2 class="info__header slider__header">${n}</h2>\n            <p class="info__description slider__description">${i}</p>\n            <h3 class="slider__sub-header">${o}</h3>\n            <p class="slider__info">${s}</p>\n            <p class="slider__info slider__info--wide">\n               ${r}\n            </p>\n        </div>`}(this._data)}}const r="afterbegin",l="beforeend";function a(e,t,n=l){switch(e instanceof i&&(e=e.getElement()),t instanceof i&&(t=t.getElement()),n){case r:e.prepend(t);break;case l:e.append(t)}}function d(e){e instanceof i&&(e=e.getElement()),e.remove()}function c(e){return e instanceof i&&(e=e.getElement()),window.getComputedStyle(e).width.replace(/\D/g,"")}function h(e,t){e instanceof i&&(e=e.getElement()),e.style.width=t+"px"}class _ extends i{constructor(e){super(),this._data=e,this._activeSlideName=e[0].name,this._onSliderNavigationClick=null}getTemplate(){return function(e,t){let n="";return e.forEach((e,i)=>{const o=function(e,t){const{title:n,name:i}=e;return`\n        <li class="slider__item">\n        <button class="slider__button slider__button--${i} ${t===i?"slider__button--active":""}" data-slider-name=${i}>\n            <span class="visually-hidden">${n}</span>\n        </button> \n    </li>`}(e,t);n+=o}),`<ul class="slider__navigation">\n        ${n}\n    </ul>`}(this._data,this._activeSlideName)}setOnSliderNavigationClick(e){this._onSliderNavigationClick=e,this.getElement().addEventListener("click",e)}update(e){const t=this._element.parentNode;d(this._element),this._activeSlideName=e,this._element=null,this.recoveryListeners(),a(t,this._element)}recoveryListeners(){this.setOnSliderNavigationClick(this._onSliderNavigationClick)}}const u=document.querySelector(".info");class m{constructor(e,t){this._container=e,this._sliderModel=t,this._slideComponents={},this._sliderComponent=null,this._sliderNavigationComponent=null,this._onSliderNavigationClick=this._onSliderNavigationClick.bind(this)}init(){this._sliderComponent=new o;const e=this._sliderModel.getData();e.forEach(e=>{this._createSlide(e)}),this._renderSliderNavigation(e),a(u,this._sliderComponent),this._renderSlide("recording")}_createSlide(e){const t=new s(e);this._slideComponents[e.name]=t}_clearSlides(){Object.values(this._slideComponents).forEach(e=>{d(e)})}_renderSlide(e){const t=this._slideComponents[e];a(this._sliderComponent,t)}_renderSliderNavigation(e){this._sliderNavigationComponent=new _(e),this._sliderNavigationComponent.setOnSliderNavigationClick(this._onSliderNavigationClick),a(this._sliderComponent,this._sliderNavigationComponent)}_onSliderNavigationClick(e){const t=e.target;if(t.classList.contains("slider__button")){const e=t.dataset.sliderName;this._clearSlides(),this._renderSlide(e),this._sliderNavigationComponent.update(e)}}}class p extends i{constructor(){super()}getTemplate(){return'<div class="team__slider bottom-slider">\n    </div>'}}class S extends i{constructor(){super(),this._onSwiperTouchStart=null,this._onSwiperTouchMove=null,this._onSwiperMouseDown=null,this._onSwiperMouseMove=null}getTemplate(){return'<div class="bottom-slider__inner">\n            \n        </div>'}setOnSwiperTouchStart(e){this._onSwiperTouchStart=e,this.getElement().addEventListener("touchstart",e)}removeOnSwiperTouchMove(){this.getElement().removeEventListener("touchmove",this._onSwiperTouchMove),this._onSwiperTouchMove=null}removeOnSwiperTouchStart(){this.getElement().removeEventListener("mousedown",this._onSwiperMouseDown),this._onSwiperMouseDown=null}removeOnSwiperMouseMove(){this.getElement().removeEventListener("mousemove",this._onSwiperMouseMove),this._onSwiperMouseMove=null}removeOnSwiperMouseUp(){this.getElement().removeEventListener("mouseup",this._onSwiperMouseUp),this._onSwiperMouseUp=null}removeOnSwiperMouseDown(){this.getElement().removeEventListener("mousedown",this._onSwiperMouseDown),this._onSwiperMouseDown=null}setOnSwiperTouchMove(e){this._onSwiperTouchMove=e,this.getElement().addEventListener("touchmove",e)}setOnSwiperMouseDown(e){this._onSwiperMouseDown=e,this.getElement().addEventListener("mousedown",e)}setOnSwiperMouseMove(e){this._onSwiperMouseMove=e,this.getElement().addEventListener("mousemove",e)}setOnSwiperMouseUp(e){this._onSwiperMouseUp=e,this.getElement().addEventListener("mouseup",e)}translateByX(e){!function(e,t){e instanceof i&&(e=e.getElement()),e.style.transition="all 0.5s",e.style.transform=`translateX(-${t})`}(this.getElement(),e)}}class v extends i{constructor(e){super(),this._memberData=e}getTemplate(){return function(e){const{img:t,name:n,position:i,description:o}=e;return`<div class="bottom-slider__tabcontent">\n        <p class="bottom-slider__photo-container">\n            <img src=${t} alt="${n}" class="bottom-slider__photo" width = "auto" height = "auto">    \n        </p>\n        <p class="bottom-slider__name">${n}</p>\n        <p class="bottom-slider__position">${i}</p>\n        <span class="bottom-slider__pink-line"></span>\n        <p class="bottom-slider__description">${o}</p>\n    </div>`}(this._memberData)}}function w(e){return`<li class="bottom-slider__bullet ${e?"bottom-slider__bullet--active":""}"></li>`}class g extends i{constructor(e,t){super(),this._bulletsAmount=e,this._currentSlide=t,this._onNavigationClick=null}getTemplate(){return function(e,t){let n="";for(let i=0;i<e;i++)n+=w(i===t);return`<ul class="bottom-slider__bullets">\n            ${n}\n        </ul>`}(this._bulletsAmount,this._currentSlide)}setOnNavigationClick(e){this._onNavigationClick=e,this.getElement().addEventListener("click",e)}getBulletNodes(){return this.getElement().querySelectorAll(".bottom-slider__bullet")}recoveryListeners(){this.setOnNavigationClick(this._onNavigationClick)}updateCurrentSlide(e){this._currentSlide=e;const t=this.getElement().parentNode;this._element.remove(),this._element=null,this.recoveryListeners(),a(t,this._element)}}class C{constructor(e,t){this._container=e,this._teamModel=t,this._currentSlideIndex=0,this._slidesTotal=void 0,this._slideWidth=void 0,this._teamSwiperComponent=null,this._teamSwiperInnerComponent=null,this._teamNavigationComponent=null,this._onTeamSwiperTouchStart=this._onTeamSwiperTouchStart.bind(this),this._onTeamSwiperMouseDown=this._onTeamSwiperMouseDown.bind(this),this._onNavigationClick=this._onNavigationClick.bind(this)}init(){this._teamSwiperComponent=new p,a(this._container,this._teamSwiperComponent);const e=this._teamModel.getData();this._slidesTotal=e.length,this._slideWidth=c(this._teamSwiperComponent),this._renderTeamSwiperInner(),this._renderTeamMembers(e),this._renderTeamNavigation(this._currentSlideIndex),this._showSlide(0)}_renderTeamSwiperInner(){this._teamSwiperInnerComponent=new S,this._teamSwiperInnerComponent.setOnSwiperTouchStart(this._onTeamSwiperTouchStart),this._teamSwiperInnerComponent.setOnSwiperMouseDown(this._onTeamSwiperMouseDown);const e=c(this._teamSwiperComponent)*this._slidesTotal;h(this._teamSwiperInnerComponent,e),a(this._teamSwiperComponent,this._teamSwiperInnerComponent)}_renderTeamMembers(e){e.forEach(e=>{const t=new v(e);h(t,this._slideWidth),a(this._teamSwiperInnerComponent,t)})}_renderTeamNavigation(e){this._teamNavigationComponent=new g(this._slidesTotal,e),this._teamNavigationComponent.setOnNavigationClick(this._onNavigationClick),a(this._teamSwiperComponent,this._teamNavigationComponent)}_showSlide(e){const t=e/this._slidesTotal*100+"%";this._teamSwiperInnerComponent.translateByX(t),this._teamNavigationComponent.updateCurrentSlide(e)}_onNavigationClick(e){if(e.target.classList.contains("bottom-slider__bullet")){this._teamNavigationComponent.getBulletNodes().forEach((t,n)=>{t===e.target&&this._showSlide(n)})}}_onTeamSwiperMouseDown(e){e.preventDefault();let t={X:e.clientX},n=0;this._onTeamSwiperMouseMove=e=>{e.preventDefault();const i=e.clientX-t.X;t={X:e.clientX},n+=i},this._onTeamSwiperMouseUp=e=>{n<-this._slideWidth/4&&this._currentSlideIndex<this._slidesTotal-1?(this._currentSlideIndex++,this._showSlide(this._currentSlideIndex)):n>this._slideWidth/4&&this._currentSlideIndex>0&&(this._currentSlideIndex--,this._showSlide(this._currentSlideIndex)),this._teamSwiperInnerComponent.removeOnSwiperMouseMove(),document.removeEventListener("mouseup",this._onTeamSwiperMouseUp)},this._teamSwiperInnerComponent.setOnSwiperMouseMove(this._onTeamSwiperMouseMove),document.addEventListener("mouseup",this._onTeamSwiperMouseUp)}_onTeamSwiperTouchStart(e){let t={X:e.touches[0].clientX,Y:e.touches[0].clientY},n=0;this._onTeamSwiperTouchMove=e=>{const i={X:e.touches[0].clientX-t.X,Y:e.touches[0].clientY-t.Y};Math.abs(i.Y)<10&&e.preventDefault(),t={X:e.touches[0].clientX,Y:e.touches[0].clientY},n+=i.X},this._onTeamSwiperTouchEnd=e=>{n<-this._slideWidth/4&&this._currentSlideIndex<this._slidesTotal-1?this._currentSlideIndex++:n>this._slideWidth/4&&this._currentSlideIndex>0&&this._currentSlideIndex--,this._showSlide(this._currentSlideIndex),this._teamSwiperInnerComponent.removeOnSwiperTouchMove(),document.addEventListener("touchend",this._onTeamSwiperTouchEnd)},this._teamSwiperInnerComponent.setOnSwiperTouchMove(this._onTeamSwiperTouchMove),document.addEventListener("touchend",this._onTeamSwiperTouchEnd)}}class f extends i{constructor(){super()}getTemplate(){return'<section class="intro" id="intro">\n            <div class="intro__background"></div>\n            <p class="intro__slogan">NL Label - музыка будущего</p>\n            <p class="intro__quote">Делаем красиво. <br> (c) NightLoud</p>\n\n            <button class="intro__dropdown dropdown">\n                <span class="visually-hidden">Дальше</span>\n            </button>\n        </section>'}setOnDropdownClick(e){this.getElement().querySelector(".intro__dropdown").addEventListener("click",e)}}class b extends i{constructor(){super(),this._onHoverClick=null}getTemplate(){return'<section class="map">\n    <div class="map__hover">\n        <p class="map__title">Мы на карте</p>\n        <p class="map__dropdown dropdown"></p>\n    </div>\n    <iframe class="map__iframe" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d18785.881916007704!2d27.678723340516644!3d53.94532937256558!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46dbc94d307b825b%3A0xc7262a90fa4fd87d!2z0KPRgNGD0YfRjNC1LCDQnNC40L3RgdC6!5e0!3m2!1sru!2sby!4v1606246002671!5m2!1sru!2sby" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>\n</section>'}setOnHoverClick(e){this._onHoverClick=e,this.getElement().querySelector(".map__hover").addEventListener("click",e)}get hover(){return this.getElement().querySelector(".map__hover")}}const M=document.querySelector(".info"),T=document.querySelector(".team");class E{constructor(e,t,n){this._container=e,this._sliderModel=t,this._teamModel=n,this._mapComponent=null,this._introComponent=null,this._sliderPresenter=null,this._teamSwiperPresenter=null,this._onMapHoverClick=this._onMapHoverClick.bind(this),this._onDropdownClick=this._onDropdownClick.bind(this)}init(){this._renderPage()}_renderPage(){this._renderIntro(),this._renderSlider(),this._renderTeamSwiper()}_renderIntro(){this._introComponent=new f,this._introComponent.setOnDropdownClick(this._onDropdownClick),a(this._container,this._introComponent,r)}_renderSlider(){this._sliderPresenter=new m(null,this._sliderModel),this._sliderPresenter.init()}_renderTeamSwiper(){this._teamSwiperPresenter=new C(T,this._teamModel),this._teamSwiperPresenter.init()}_renderMap(){this._mapComponent=new b,this._mapComponent.setOnHoverClick(this._onMapHoverClick),a(this._container,this._mapComponent)}_onMapHoverClick(){!function(e,...t){e instanceof i&&(e=e.getElement()),t.forEach(t=>{e.classList.add(t)})}(this._mapComponent.hover,"fadeOut"),setTimeout(()=>{d(this._mapComponent.hover)},400)}_onDropdownClick(){M.scrollIntoView({behavior:"smooth"})}}const N=[{name:"recording",title:"Запись",description:"Мы предоставляем высококачественную запись вокала и инструментов своим исполнителям",subHeader:"NL Records",info:"Наш лейбл обладает собственной студией звукозаписи с высококачественным оборудованием.",details:" Давно мечтали записаться в профессиональной студии? <br>\n                    Хотели бы получить качественную обработку? <br>\n                    Или вы мечтаете записать хит под собственный бит? <br>\n                    Участники нашего лейбла получают всё это априори."},{name:"music",title:"Музыка",description:"Мы хотим, чтобы белорусских исполнителей увидели чарты всех приложений",subHeader:"Направления",info:"Мы готовы работать с музыкантами различных стилей - от рокеров до хип-хоперов.",details:" Мы верим, что любой музыкант может пробиться с низов, не имея ни связей, ни финансовых возможностей. Мы поможем вам достичь вершин."},{name:"promotion",title:"Продвижение",description:"Мы рехостим не только на SoundCloud",subHeader:"Где меня могут послушать?",info:"Мы продвигаем исполнителей на изестных площадках: Spotify, VK, Boom, Yandex.Music, Apple Music, и конечно же - SoundCloud.",details:"Ваши фанаты смогут слушать вас на любой удобной для них площадке"}];class k{constructor(){this._sliderData=N}getData(){return this._sliderData}}const y=[{name:"NightLoud",position:"Основатель NL Label",description:"Nightloud основал собственный лейбл в 2020 году, в возрасте 17 лет. В этот лейбл вложена вся его мечта - помочь молодым музыкантам пробраться на вершины музыкальных олимпов. И он готов действовать.",img:"./img/skrillex-photo-desktop@1x.png"},{name:"Wito Divaro",position:"Фристайлер",description:"Wito Divaro начал свою карьеру хип-хоп фристайлера, в шутку записав пару треков. Он стал неотъемлимой частью команды Nightloud'а, и теперь красуется на одном из этих слайдов!",img:"./img/witodivaro-photo-desktop.jpg"},{name:"Arseniy 'EPAM' Solaridze",position:"Хип-хопер",description:"Арсений всегда знал, что успешные хип-хоп исполнители - это те, что записывают музыку от души. Именно поэтому в его музыке можно прочувствовать все фибры его внутреннего состояния, и именно поэтому его так обожают фанаты!",img:"./img/arseniy-solaridze-photo-desktop.jpg"}];class L{constructor(){this._data=y}getData(){return this._data}}window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("main"),t=new k,n=new L;new E(e,t,n).init()})}]);